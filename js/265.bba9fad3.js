"use strict";(self["webpackChunklightandnight"]=self["webpackChunklightandnight"]||[]).push([[265],{6911:function(){},7179:function(){},3254:function(){},3737:function(){},9591:function(t,e,l){l.d(e,{Z:function(){return r}});var i=l(5160),a=(l(6338),l(6252));function n(t,e,l,n,s,o){const u=i.b;return(0,a.wg)(),(0,a.j4)(u,{title:t.$t(`tutorial.${l.message}[0]`),label:t.$t("tutorial.via",[t.$t(`tutorial.${l.message}[2]`),l.desc]),"is-link":"",center:"",onClick:o.openUrl},null,8,["title","label","onClick"])}var s={name:"TutorialCell",props:{message:String,desc:String},methods:{openUrl(){window.open(this.$t(`tutorial.${this.message}[1]`))}}},o=l(3744);const u=(0,o.Z)(s,[["render",n]]);var r=u},4265:function(t,e,l){l.r(e),l.d(e,{default:function(){return U}});var i=l(83),a=(l(2130),l(6068)),n=(l(2087),l(1046)),s=(l(6186),l(9850)),o=(l(5124),l(4377)),u=(l(2278),l(8480)),r=(l(1958),l(368),l(6742),l(7179),l(4635)),m=(l(7515),l(7630)),d=(l(1063),l(8217)),h=(l(6870),l(7419)),c=(l(470),l(4871)),w=(l(2563),l(5160)),p=(l(6338),l(7036)),g=(l(158),l(5267)),f=(l(1645),l(9591)),W=l(4958),$=l(6252),k=l(3577);const V={class:"container"},_={class:"content"},C={class:"container"};function y(t,e,y,b,v,x){const D=W.Z,U=f.Z,H=g.T,M=p.Y,B=w.b,z=c.v,S=h.E,G=d.J,Y=m.r,Z=r.f,N=u.E,j=o.Vq,T=s.J,K=n.X,O=a.i,R=i.i,E=(0,$.Q2)("t");return(0,$.wg)(),(0,$.iD)($.HY,null,[(0,$.Wm)(D,{title:t.$t("route.wish"),"can-return":""},null,8,["title"]),(0,$.Wm)(H,{title:t.$t("common.tutorial"),inset:""},{default:(0,$.w5)((()=>[(0,$.Wm)(U,{message:"wish"})])),_:1},8,["title"]),(0,$.Wm)(S,{modelValue:v.target,"onUpdate:modelValue":e[1]||(e[1]=t=>v.target=t)},{default:(0,$.w5)((()=>[(0,$.Wm)(H,{title:t.$t("wish.target"),inset:""},{default:(0,$.w5)((()=>[((0,$.wg)(!0),(0,$.iD)($.HY,null,(0,$.Ko)(v.presetTargets,(e=>((0,$.wg)(),(0,$.j4)(B,{key:e,title:t.$t("wish.preset",[e.count]),label:t.$t("wish.presetDesc",[e.desc]),clickable:"",onClick:t=>v.target=e.count},{"right-icon":(0,$.w5)((()=>[(0,$.Wm)(M,{name:e.count},null,8,["name"])])),_:2},1032,["title","label","onClick"])))),128)),(0,$.Wm)(B,{title:t.$t("common.customize"),center:""},{"right-icon":(0,$.w5)((()=>[(0,$.Wm)(z,(0,$.dG)({modelValue:v.target,"onUpdate:modelValue":e[0]||(e[0]=t=>v.target=t)},v.stepper,{min:"64",max:"99"}),null,16,["modelValue"])])),_:1},8,["title"])])),_:1},8,["title"])])),_:1},8,["modelValue"]),(0,$.Wm)(H,{title:t.$t("common.currentStatus"),inset:""},{default:(0,$.w5)((()=>[(0,$.Wm)(B,{title:"",label:t.$t("wish.hint")},null,8,["label"]),(0,$.Wm)(B,{center:""},{title:(0,$.w5)((()=>[(0,$._)("div",{onClick:e[2]||(e[2]=t=>v.showNextMinigameDetail=!0)},[(0,$.Uk)((0,k.zw)(t.$t("wish.nextMinigame"))+" ",1),(0,$.Wm)(G,{name:"question-o"})])])),"right-icon":(0,$.w5)((()=>[(0,$.Wm)(z,(0,$.dG)({modelValue:v.nextMinigame,"onUpdate:modelValue":e[3]||(e[3]=t=>v.nextMinigame=t)},v.stepper,{min:"1"}),null,16,["modelValue"])])),_:1}),(0,$.Wm)(B,{title:t.$t("wish.freeHad"),center:""},{"right-icon":(0,$.w5)((()=>[(0,$.Wm)(z,(0,$.dG)({modelValue:v.freeHad,"onUpdate:modelValue":e[4]||(e[4]=t=>v.freeHad=t)},v.stepper,{min:"0"}),null,16,["modelValue"])])),_:1},8,["title"]),(0,$.Wm)(B,{title:t.$t("wish.paidHad"),center:""},{"right-icon":(0,$.w5)((()=>[(0,$.Wm)(z,(0,$.dG)({modelValue:v.paidHad,"onUpdate:modelValue":e[5]||(e[5]=t=>v.paidHad=t)},v.stepper,{min:"0"}),null,16,["modelValue"])])),_:1},8,["title"]),(0,$.Wm)(B,{title:t.$t("wish.shop"),center:""},{"right-icon":(0,$.w5)((()=>[(0,$.Wm)(z,(0,$.dG)({modelValue:v.shop,"onUpdate:modelValue":e[6]||(e[6]=t=>v.shop=t)},v.stepper,{min:"0",max:"20"}),null,16,["modelValue"])])),_:1},8,["title"]),(0,$.Wm)(B,{title:t.$t("wish.wished"),center:""},{"right-icon":(0,$.w5)((()=>[(0,$.Wm)(z,(0,$.dG)({modelValue:v.wished,"onUpdate:modelValue":e[7]||(e[7]=t=>v.wished=t)},v.stepper,{min:"0",max:"99"}),null,16,["modelValue"])])),_:1},8,["title"]),(0,$.Wm)(B,{title:t.$t("wish.calendar"),value:v.calendarString,clickable:"",onClick:e[8]||(e[8]=t=>v.showCalendar=!0)},null,8,["title","value"]),(0,$.Wm)(B,{title:t.$t("wish.dailyBought")},{"right-icon":(0,$.w5)((()=>[(0,$.Wm)(Y,{modelValue:v.dailyBought,"onUpdate:modelValue":e[9]||(e[9]=t=>v.dailyBought=t)},null,8,["modelValue"])])),_:1},8,["title"]),(0,$.Wm)(B,{title:t.$t("wish.packBought")},{"right-icon":(0,$.w5)((()=>[(0,$.Wm)(Y,{modelValue:v.packBought,"onUpdate:modelValue":e[10]||(e[10]=t=>v.packBought=t)},null,8,["modelValue"])])),_:1},8,["title"]),(0,$.Wm)(B,{title:t.$t("wish.lost"),center:""},{"right-icon":(0,$.w5)((()=>[(0,$.Wm)(z,(0,$.dG)({modelValue:v.lost,"onUpdate:modelValue":e[11]||(e[11]=t=>v.lost=t)},v.stepper,{min:"0"}),null,16,["modelValue"])])),_:1},8,["title"])])),_:1},8,["title"]),(0,$.Wm)(H,{title:" ",inset:""},{default:(0,$.w5)((()=>[(0,$.Wm)(B,{title:t.$t("common.calculate"),"is-link":"",onClick:x.calculate},null,8,["title","onClick"])])),_:1}),(0,$.Wm)(Z,{show:v.showCalendar,"onUpdate:show":e[12]||(e[12]=t=>v.showCalendar=t),"min-date":v.minDate,"max-date":v.maxDate,onConfirm:x.calendarConfirm,"show-confirm":!1},null,8,["show","min-date","max-date","onConfirm"]),(0,$.Wm)(R,{"theme-vars":v.theme},{default:(0,$.w5)((()=>[(0,$.Wm)(j,{show:v.showNextMinigameDetail,"onUpdate:show":e[13]||(e[13]=t=>v.showNextMinigameDetail=t),closeOnClickOverlay:""},{default:(0,$.w5)((()=>[(0,$._)("div",V,[(0,$.wy)((0,$._)("p",_,null,512),[[E,"wish.nextMinigameDesc"]]),(0,$.Wm)(N,{class:"content",src:l(5908)},null,8,["src"])])])),_:1},8,["show"]),(0,$.Wm)(j,{show:v.showResult,"onUpdate:show":e[14]||(e[14]=t=>v.showResult=t),closeOnClickOverlay:""},{default:(0,$.w5)((()=>[(0,$._)("div",C,[(0,$.Wm)(K,{class:"content"},{default:(0,$.w5)((()=>[((0,$.wg)(),(0,$.iD)($.HY,null,(0,$.Ko)([16,4,4],((e,l)=>(0,$.Wm)(T,{key:e,span:e},{default:(0,$.w5)((()=>[(0,$.Uk)((0,k.zw)(t.$t(`wish.result.title[${l}]`)),1)])),_:2},1032,["span"]))),64))])),_:1}),((0,$.wg)(!0),(0,$.iD)($.HY,null,(0,$.Ko)(v.result,((t,e)=>((0,$.wg)(),(0,$.iD)($.HY,{key:t},[1==v.result[e].length?((0,$.wg)(),(0,$.j4)(O,{key:0,dashed:""},{default:(0,$.w5)((()=>[(0,$.Uk)((0,k.zw)(v.result[e][0]),1)])),_:2},1024)):((0,$.wg)(),(0,$.j4)(K,{key:1,class:"content"},{default:(0,$.w5)((()=>[((0,$.wg)(),(0,$.iD)($.HY,null,(0,$.Ko)([16,4,4],((e,l)=>(0,$.Wm)(T,{key:e,span:e},{default:(0,$.w5)((()=>[(0,$.Uk)((0,k.zw)(t[l]),1)])),_:2},1032,["span"]))),64))])),_:2},1024))],64)))),128))])])),_:1},8,["show"])])),_:1},8,["theme-vars"])],64)}let b=l(7484);var v={name:"WishCalculator",components:{Navbar:W.Z,TutorialCell:f.Z},data(){return{presetTargets:[64,68,72,76,80,88,95,99].map((t=>({count:t,desc:this.$t(`wish.presets.${t}`)}))),target:64,targetString:"64",nextMinigame:1,showNextMinigameDetail:!1,freeHad:0,paidHad:0,shop:20,wished:0,lost:0,dailyBought:!1,packBought:!1,minDate:b().subtract(5,"hour").subtract(8,"day").toDate(),maxDate:b().subtract(5,"hour").toDate(),showCalendar:!1,calendar:new Date,calendarString:b().format(this.$t("wish.dateFormat")),result:[],showResult:!1,theme:{dialogFontSize:"var(--van-font-size-md)"},stepper:{integer:!0,"input-width":"48px"}}},methods:{calendarConfirm(t){this.showCalendar=!1,this.calendar=t,this.calendarString=b(t).format(this.$t("wish.dateFormat"))},calculate(){let t=[[this.$t("wish.result.type[0]")]],e=(e,l,i)=>{t.push([this.$t(`wish.result.${e}`),l,i])},l=23-(this.nextMinigame||1);e("minigame",l);let i=this.shop||20;e("shop",i);let a=this.wished||0,n=5;[6,18,32,46,52].forEach((t=>{a>=t&&(n-=1)})),e("progress",n);let s=this.freeHad||0,o=this.paidHad||0;s+o&&e("current",s+o);let u=this.lost||0;u&&e("lost",-u),t.push([this.$t("wish.result.type[1]")]);let r=l+i+a+s+o-u+n,m=this.target-r;if(m>0){let{dailyBought:l,packBought:i}=this,n=8-b().subtract(5,"hour").diff(b.tz(this.calendar),"day")-Number(l),s=0;if(m<4&&n>=0||4==m&&n>=4){let t=Math.min(m,n);m-=t,s+=2*t,e("daily",t,2*t)}else{if(i||(m-=6,s+=9,e("pack",6,9)),m>0&&n){let t=Math.min(m,n);m-=t,s+=2*t,e("daily",t,2*t)}m>0&&(s+=3*m,e("direct",m,3*m))}t.push([this.$t("wish.result.type[2]")]),e("total",this.target-a-m,s)}else t.push([this.$t("wish.result.type[2]")]),e("total",r-a,0);this.result=t,this.showResult=!0}}},x=l(3744);const D=(0,x.Z)(v,[["render",y]]);var U=D},5908:function(t,e,l){t.exports=l.p+"img/wish.f3bcbbad.jpg"},7515:function(t,e,l){l(1958),l(368),l(6742),l(2939),l(1744),l(1452),l(6196),l(2666),l(770)},5124:function(t,e,l){l(1958),l(3737)},470:function(t,e,l){l(1958),l(3254)},158:function(t,e,l){l(1958),l(368),l(6742),l(3254),l(6911)},6186:function(t,e,l){l(1958),l(3737)},2563:function(t,e,l){l(1958)}}]);
//# sourceMappingURL=265.bba9fad3.js.map