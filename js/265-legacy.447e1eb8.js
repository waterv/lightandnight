"use strict";(self["webpackChunklightandnight"]=self["webpackChunklightandnight"]||[]).push([[265],{66911:function(){},57179:function(){},93254:function(){},63737:function(){},49591:function(t,e,n){n.d(e,{Z:function(){return s}});var i=n(25160),l=(n(6338),n(66252));function a(t,e,n,a,r,o){var u=i.b;return(0,l.wg)(),(0,l.j4)(u,{title:t.$t("tutorial.".concat(n.message,"[0]")),label:t.$t("tutorial.via",[t.$t("tutorial.".concat(n.message,"[2]")),n.desc]),"is-link":"",center:"",onClick:o.openUrl},null,8,["title","label","onClick"])}var r={name:"TutorialCell",props:{message:String,desc:String},methods:{openUrl:function(){window.open(this.$t("tutorial.".concat(this.message,"[1]")))}}},o=n(83744);const u=(0,o.Z)(r,[["render",a]]);var s=u},4265:function(t,e,n){n.r(e),n.d(e,{default:function(){return U}});var i=n(80083),l=(n(92130),n(86068)),a=(n(92087),n(11046)),r=(n(6186),n(19850)),o=(n(55124),n(14377)),u=(n(50492),n(78480)),s=(n(31958),n(20368),n(56742),n(57179),n(64635)),c=(n(87515),n(77630)),m=(n(51063),n(88217)),d=(n(16870),n(27419)),h=(n(10470),n(64871)),f=(n(32563),n(25160)),w=(n(6338),n(87036)),p=(n(20158),n(95267)),g=(n(31645),n(49591)),W=n(54958),k=n(66252),v=n(3577),V={class:"container"},$={class:"content"},_={class:"container"};function C(t,e,C,y,b,x){var D=W.Z,U=g.Z,H=p.T,M=w.Y,B=f.b,z=h.v,S=d.E,G=m.J,Y=c.r,Z=s.f,N=u.E,j=o.Vq,T=r.J,K=a.X,O=l.i,R=i.i,E=(0,k.Q2)("t");return(0,k.wg)(),(0,k.iD)(k.HY,null,[(0,k.Wm)(D,{title:t.$t("route.wish"),"can-return":""},null,8,["title"]),(0,k.Wm)(H,{title:t.$t("common.tutorial"),inset:""},{default:(0,k.w5)((function(){return[(0,k.Wm)(U,{message:"wish"})]})),_:1},8,["title"]),(0,k.Wm)(S,{modelValue:b.target,"onUpdate:modelValue":e[1]||(e[1]=function(t){return b.target=t})},{default:(0,k.w5)((function(){return[(0,k.Wm)(H,{title:t.$t("wish.target"),inset:""},{default:(0,k.w5)((function(){return[((0,k.wg)(!0),(0,k.iD)(k.HY,null,(0,k.Ko)(b.presetTargets,(function(e){return(0,k.wg)(),(0,k.j4)(B,{key:e,title:t.$t("wish.preset",[e.count]),label:t.$t("wish.presetDesc",[e.desc]),clickable:"",onClick:function(t){return b.target=e.count}},{"right-icon":(0,k.w5)((function(){return[(0,k.Wm)(M,{name:e.count},null,8,["name"])]})),_:2},1032,["title","label","onClick"])})),128)),(0,k.Wm)(B,{title:t.$t("common.customize"),center:""},{"right-icon":(0,k.w5)((function(){return[(0,k.Wm)(z,(0,k.dG)({modelValue:b.target,"onUpdate:modelValue":e[0]||(e[0]=function(t){return b.target=t})},b.stepper,{min:"64",max:"99"}),null,16,["modelValue"])]})),_:1},8,["title"])]})),_:1},8,["title"])]})),_:1},8,["modelValue"]),(0,k.Wm)(H,{title:t.$t("common.currentStatus"),inset:""},{default:(0,k.w5)((function(){return[(0,k.Wm)(B,{title:"",label:t.$t("wish.hint")},null,8,["label"]),(0,k.Wm)(B,{center:""},{title:(0,k.w5)((function(){return[(0,k._)("div",{onClick:e[2]||(e[2]=function(t){return b.showNextMinigameDetail=!0})},[(0,k.Uk)((0,v.zw)(t.$t("wish.nextMinigame"))+" ",1),(0,k.Wm)(G,{name:"question-o"})])]})),"right-icon":(0,k.w5)((function(){return[(0,k.Wm)(z,(0,k.dG)({modelValue:b.nextMinigame,"onUpdate:modelValue":e[3]||(e[3]=function(t){return b.nextMinigame=t})},b.stepper,{min:"1"}),null,16,["modelValue"])]})),_:1}),(0,k.Wm)(B,{title:t.$t("wish.freeHad"),center:""},{"right-icon":(0,k.w5)((function(){return[(0,k.Wm)(z,(0,k.dG)({modelValue:b.freeHad,"onUpdate:modelValue":e[4]||(e[4]=function(t){return b.freeHad=t})},b.stepper,{min:"0"}),null,16,["modelValue"])]})),_:1},8,["title"]),(0,k.Wm)(B,{title:t.$t("wish.paidHad"),center:""},{"right-icon":(0,k.w5)((function(){return[(0,k.Wm)(z,(0,k.dG)({modelValue:b.paidHad,"onUpdate:modelValue":e[5]||(e[5]=function(t){return b.paidHad=t})},b.stepper,{min:"0"}),null,16,["modelValue"])]})),_:1},8,["title"]),(0,k.Wm)(B,{title:t.$t("wish.shop"),center:""},{"right-icon":(0,k.w5)((function(){return[(0,k.Wm)(z,(0,k.dG)({modelValue:b.shop,"onUpdate:modelValue":e[6]||(e[6]=function(t){return b.shop=t})},b.stepper,{min:"0",max:"20"}),null,16,["modelValue"])]})),_:1},8,["title"]),(0,k.Wm)(B,{title:t.$t("wish.wished"),center:""},{"right-icon":(0,k.w5)((function(){return[(0,k.Wm)(z,(0,k.dG)({modelValue:b.wished,"onUpdate:modelValue":e[7]||(e[7]=function(t){return b.wished=t})},b.stepper,{min:"0",max:"99"}),null,16,["modelValue"])]})),_:1},8,["title"]),(0,k.Wm)(B,{title:t.$t("wish.calendar"),value:b.calendarString,clickable:"",onClick:e[8]||(e[8]=function(t){return b.showCalendar=!0})},null,8,["title","value"]),(0,k.Wm)(B,{title:t.$t("wish.dailyBought")},{"right-icon":(0,k.w5)((function(){return[(0,k.Wm)(Y,{modelValue:b.dailyBought,"onUpdate:modelValue":e[9]||(e[9]=function(t){return b.dailyBought=t})},null,8,["modelValue"])]})),_:1},8,["title"]),(0,k.Wm)(B,{title:t.$t("wish.packBought")},{"right-icon":(0,k.w5)((function(){return[(0,k.Wm)(Y,{modelValue:b.packBought,"onUpdate:modelValue":e[10]||(e[10]=function(t){return b.packBought=t})},null,8,["modelValue"])]})),_:1},8,["title"]),(0,k.Wm)(B,{title:t.$t("wish.lost"),center:""},{"right-icon":(0,k.w5)((function(){return[(0,k.Wm)(z,(0,k.dG)({modelValue:b.lost,"onUpdate:modelValue":e[11]||(e[11]=function(t){return b.lost=t})},b.stepper,{min:"0"}),null,16,["modelValue"])]})),_:1},8,["title"])]})),_:1},8,["title"]),(0,k.Wm)(H,{title:" ",inset:""},{default:(0,k.w5)((function(){return[(0,k.Wm)(B,{title:t.$t("common.calculate"),"is-link":"",onClick:x.calculate},null,8,["title","onClick"])]})),_:1}),(0,k.Wm)(Z,{show:b.showCalendar,"onUpdate:show":e[12]||(e[12]=function(t){return b.showCalendar=t}),"min-date":b.minDate,"max-date":b.maxDate,onConfirm:x.calendarConfirm,"show-confirm":!1},null,8,["show","min-date","max-date","onConfirm"]),(0,k.Wm)(R,{"theme-vars":b.theme},{default:(0,k.w5)((function(){return[(0,k.Wm)(j,{show:b.showNextMinigameDetail,"onUpdate:show":e[13]||(e[13]=function(t){return b.showNextMinigameDetail=t}),closeOnClickOverlay:""},{default:(0,k.w5)((function(){return[(0,k._)("div",V,[(0,k.wy)((0,k._)("p",$,null,512),[[E,"wish.nextMinigameDesc"]]),(0,k.Wm)(N,{class:"content",src:n(5908)},null,8,["src"])])]})),_:1},8,["show"]),(0,k.Wm)(j,{show:b.showResult,"onUpdate:show":e[14]||(e[14]=function(t){return b.showResult=t}),closeOnClickOverlay:""},{default:(0,k.w5)((function(){return[(0,k._)("div",_,[(0,k.Wm)(K,{class:"content"},{default:(0,k.w5)((function(){return[((0,k.wg)(),(0,k.iD)(k.HY,null,(0,k.Ko)([16,4,4],(function(e,n){return(0,k.Wm)(T,{key:e,span:e},{default:(0,k.w5)((function(){return[(0,k.Uk)((0,v.zw)(t.$t("wish.result.title[".concat(n,"]"))),1)]})),_:2},1032,["span"])})),64))]})),_:1}),((0,k.wg)(!0),(0,k.iD)(k.HY,null,(0,k.Ko)(b.result,(function(t,e){return(0,k.wg)(),(0,k.iD)(k.HY,{key:t},[1==b.result[e].length?((0,k.wg)(),(0,k.j4)(O,{key:0,dashed:""},{default:(0,k.w5)((function(){return[(0,k.Uk)((0,v.zw)(b.result[e][0]),1)]})),_:2},1024)):((0,k.wg)(),(0,k.j4)(K,{key:1,class:"content"},{default:(0,k.w5)((function(){return[((0,k.wg)(),(0,k.iD)(k.HY,null,(0,k.Ko)([16,4,4],(function(e,n){return(0,k.Wm)(T,{key:e,span:e},{default:(0,k.w5)((function(){return[(0,k.Uk)((0,v.zw)(t[n]),1)]})),_:2},1032,["span"])})),64))]})),_:2},1024))],64)})),128))])]})),_:1},8,["show"])]})),_:1},8,["theme-vars"])],64)}n(21249),n(41539),n(9653);var y=n(27484),b={name:"WishCalculator",components:{Navbar:W.Z,TutorialCell:g.Z},data:function(){var t=this;return{presetTargets:[64,68,72,76,80,88,95,99].map((function(e){return{count:e,desc:t.$t("wish.presets.".concat(e))}})),target:64,targetString:"64",nextMinigame:1,showNextMinigameDetail:!1,freeHad:0,paidHad:0,shop:20,wished:0,lost:0,dailyBought:!1,packBought:!1,minDate:y().subtract(5,"hour").subtract(8,"day").toDate(),maxDate:y().subtract(5,"hour").toDate(),showCalendar:!1,calendar:new Date,calendarString:y().format(this.$t("wish.dateFormat")),result:[],showResult:!1,theme:{dialogFontSize:"var(--van-font-size-md)"},stepper:{integer:!0,"input-width":"48px"}}},methods:{calendarConfirm:function(t){this.showCalendar=!1,this.calendar=t,this.calendarString=y(t).format(this.$t("wish.dateFormat"))},calculate:function(){var t=this,e=[[this.$t("wish.result.type[0]")]],n=function(n,i,l){e.push([t.$t("wish.result.".concat(n)),i,l])},i=23-(this.nextMinigame||1);n("minigame",i);var l=this.shop||20;n("shop",l);var a=this.wished||0,r=5;[6,18,32,46,52].forEach((function(t){a>=t&&(r-=1)})),n("progress",r);var o=this.freeHad||0,u=this.paidHad||0;o+u&&n("current",o+u);var s=this.lost||0;s&&n("lost",-s),e.push([this.$t("wish.result.type[1]")]);var c=i+l+a+o+u-s+r,m=this.target-c;if(m>0){var d=this.dailyBought,h=this.packBought,f=8-y().subtract(5,"hour").diff(y.tz(this.calendar),"day")-Number(d),w=0;if(m<4&&f>=0||4==m&&f>=4){var p=Math.min(m,f);m-=p,w+=2*p,n("daily",p,2*p)}else{if(h||(m-=6,w+=9,n("pack",6,9)),m>0&&f){var g=Math.min(m,f);m-=g,w+=2*g,n("daily",g,2*g)}m>0&&(w+=3*m,n("direct",m,3*m))}e.push([this.$t("wish.result.type[2]")]),n("total",this.target-a-m,w)}else e.push([this.$t("wish.result.type[2]")]),n("total",c-a,0);this.result=e,this.showResult=!0}}},x=n(83744);const D=(0,x.Z)(b,[["render",C]]);var U=D},5908:function(t,e,n){t.exports=n.p+"img/wish.f3bcbbad.jpg"},87515:function(t,e,n){n(31958),n(20368),n(56742),n(62939),n(71744),n(61452),n(76196),n(22666),n(70770)},55124:function(t,e,n){n(31958),n(63737)},10470:function(t,e,n){n(31958),n(93254)},20158:function(t,e,n){n(31958),n(20368),n(56742),n(93254),n(66911)},6186:function(t,e,n){n(31958),n(63737)},32563:function(t,e,n){n(31958)}}]);
//# sourceMappingURL=265-legacy.447e1eb8.js.map