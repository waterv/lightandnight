(self["webpackChunklightandnight"]=self["webpackChunklightandnight"]||[]).push([[680],{49591:function(e,t,n){"use strict";n.d(t,{Z:function(){return c}});var a=n(25160),r=(n(6338),n(66252));function o(e,t,n,o,l,i){var u=a.b;return(0,r.wg)(),(0,r.j4)(u,{title:e.$t("tutorial.".concat(n.message,"[0]")),label:e.$t("tutorial.via",[e.$t("tutorial.".concat(n.message,"[2]")),n.desc]),"is-link":"",center:"",onClick:i.openUrl},null,8,["title","label","onClick"])}var l={name:"TutorialCell",props:{message:String,desc:String},methods:{openUrl:function(){window.open(this.$t("tutorial.".concat(this.message,"[1]")))}}},i=n(83744);const u=(0,i.Z)(l,[["render",o]]);var c=u},30680:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return k}});var a=n(54548),r=(n(32219),n(74385)),o=(n(35077),n(64635)),l=(n(87515),n(45778)),i=(n(58008),n(25160)),u=(n(6338),n(77630)),c=(n(51063),n(95267)),d=(n(31645),n(49591)),s=n(54958),m=(n(68309),n(66252));function h(e,t,h,f,p,v){var g=s.Z,w=d.Z,k=c.T,b=u.r,C=i.b,$=l.g,D=o.f,V=r.c,S=a.G;return(0,m.wg)(),(0,m.iD)(m.HY,null,[(0,m.Wm)(g,{title:e.$t("route.hoard"),hint:"hoard","can-return":""},null,8,["title"]),(0,m.Wm)(k,{title:e.$t("common.tutorial"),inset:""},{default:(0,m.w5)((function(){return[(0,m.Wm)(w,{message:"hoard"})]})),_:1},8,["title"]),(0,m.Wm)(k,{title:e.$t("hoard.card"),inset:""},{default:(0,m.w5)((function(){return[((0,m.wg)(!0),(0,m.iD)(m.HY,null,(0,m.Ko)(p.card,(function(t,n){return(0,m.wg)(),(0,m.iD)(m.HY,{key:n},[(0,m.Wm)(C,{title:t.name,label:e.$t("hoard.cardDesc",[t.count,t.unit,t.aka,t.desc]),center:""},{"right-icon":(0,m.w5)((function(){return[(0,m.Wm)(b,{modelValue:t.on,"onUpdate:modelValue":function(e){return t.on=e}},null,8,["modelValue","onUpdate:modelValue"])]})),_:2},1032,["title","label"]),t.level&&t.on?((0,m.wg)(),(0,m.j4)($,{key:0,modelValue:t.level[t.curLevel].text,"onUpdate:modelValue":function(e){return t.level[t.curLevel].text=e},label:e.$t("hoard.level"),"left-icon":"arrow",readonly:"","is-link":"",onClick:function(e){return v.showPicker(t)}},null,8,["modelValue","onUpdate:modelValue","label","onClick"])):(0,m.kq)("",!0),t.on?((0,m.wg)(),(0,m.j4)(C,{key:1,title:e.$t("hoard.decline"),icon:"arrow",value:t.decString,clickable:"",onClick:function(e){return v.showCalendar(n)}},null,8,["title","value","onClick"])):(0,m.kq)("",!0)],64)})),128))]})),_:1},8,["title"]),((0,m.wg)(!0),(0,m.iD)(m.HY,null,(0,m.Ko)(p.data,(function(t,n){return(0,m.wg)(),(0,m.j4)(k,{key:n,inset:"",title:t.name+"常"},{default:(0,m.w5)((function(){return[((0,m.wg)(!0),(0,m.iD)(m.HY,null,(0,m.Ko)(t.value,(function(t,n){return(0,m.wg)(),(0,m.j4)(C,{key:n,title:t.name,label:e.$t("hoard.itemDesc",[t.count,t.desc]),center:""},{"right-icon":(0,m.w5)((function(){return[(0,m.Wm)(b,{modelValue:t.on,"onUpdate:modelValue":function(e){return t.on=e}},null,8,["modelValue","onUpdate:modelValue"])]})),_:2},1032,["title","label"])})),128)),(0,m.Wm)($,{modelValue:t.other,"onUpdate:modelValue":function(e){return t.other=e},type:"number",label:e.$t("hoard.other"),placeholder:e.$t("hoard.otherDesc",[t.name]),autocomplete:"off"},null,8,["modelValue","onUpdate:modelValue","label","placeholder"])]})),_:2},1032,["title"])})),128)),(0,m.Wm)(k,{inset:"",title:e.$t("common.currentStatus")},{default:(0,m.w5)((function(){return[(0,m.Wm)($,{"left-icon":n(36130),label:e.$t("items.100003"),modelValue:p.currentBear,"onUpdate:modelValue":t[0]||(t[0]=function(e){return p.currentBear=e}),type:"number",autocomplete:"off"},null,8,["left-icon","label","modelValue"]),(0,m.Wm)($,{"left-icon":n(73895),label:e.$t("items.100011"),modelValue:p.currentGachapon,"onUpdate:modelValue":t[1]||(t[1]=function(e){return p.currentGachapon=e}),type:"number",autocomplete:"off"},null,8,["left-icon","label","modelValue"]),(0,m.Wm)($,{"left-icon":n(49784),label:e.$t("items.100012"),modelValue:p.currentGachapon10,"onUpdate:modelValue":t[2]||(t[2]=function(e){return p.currentGachapon10=e}),type:"number",autocomplete:"off"},null,8,["left-icon","label","modelValue"]),(0,m.Wm)(C,{title:e.$t("hoard.target"),value:p.targetDateString,clickable:"",onClick:t[3]||(t[3]=function(e){return v.showCalendar(-1)})},null,8,["title","value"])]})),_:1},8,["title"]),(0,m.Wm)(k,{inset:"",title:e.$t("common.result")},{default:(0,m.w5)((function(){return[(0,m.Wm)(C,{title:e.$t("hoard.resultGacha"),value:v.gacha},null,8,["title","value"]),(0,m.Wm)(C,{title:e.$t("common.equalsTo",[e.$t("items.100003")]),value:v.bear},null,8,["title","value"])]})),_:1},8,["title"]),(0,m.Wm)(D,{show:p.calendarShow,"onUpdate:show":t[4]||(t[4]=function(e){return p.calendarShow=e}),formatter:v.calendarFormatter,"min-date":p.startDate,onConfirm:v.calendarConfirm,"safe-area-inset-bottom":""},null,8,["show","formatter","min-date","onConfirm"]),(0,m.Wm)(S,{show:p.pickerShow,"onUpdate:show":t[6]||(t[6]=function(e){return p.pickerShow=e}),round:"",position:"bottom","safe-area-inset-bottom":""},{default:(0,m.w5)((function(){return[(0,m.Wm)(V,{columns:p.pickerColumn,"default-index":0,onConfirm:v.pickerConfirm,onCancel:t[5]||(t[5]=function(e){return p.pickerShow=!1})},null,8,["columns","onConfirm"])]})),_:1},8,["show"])],64)}var f=n(95082),p=(n(9653),n(21249),n(27484)),v={name:"HoardCalculator",components:{Navbar:s.Z,TutorialCell:d.Z},data:function(){var e=n(40490)("./".concat(this.$root.server,"/hoard.json")),t=e.data,a=e.card;for(var r in t)t[r].other=void 0;for(var o in a)a[o].dec=void 0;return{card:a,data:t,currentBear:void 0,currentGachapon:void 0,currentGachapon10:void 0,currentCalendar:0,pickerColumn:[],pickerTarget:{},pickerShow:!1,calendarShow:!1,startDate:p().toDate(),targetDate:p().add(1,"month").toDate(),targetDateString:p().add(1,"month").format(this.$t("hoard.dateFormat",[this.$t("hoard.defaultRemain")]))}},computed:{bear:function(){var e=p(this.targetDate),t=this.currentBear?Number(this.currentBear):0;for(var n in t+=300*(this.currentGachapon?Number(this.currentGachapon):0),t+=3e3*(this.currentGachapon10?Number(this.currentGachapon10):0),this.card)if(this.card[n].on){var a=this.getDiff(e,this.card[n].unit);this.card[n].dec&&(a=Math.min(a,this.getDiff(this.card[n].dec,this.card[n].unit))),t+=a*this.card[n].count}for(var r in this.data){var o=this.getDiff(e,this.data[r].unit),l=this.data[r].other?Number(this.data[r].other):0;for(var i in this.data[r].value)this.data[r].value[i].on&&(l+=this.data[r].value[i].count);t+=o*l}return t},gacha:function(){return Math.floor(this.bear/300)}},methods:{getDiff:function(e,t){return Math.ceil(p(e).diff(p(),t||"day",!0))},showPicker:function(e){this.pickerColumn=e.level.map((function(e,t){return(0,f.Z)((0,f.Z)({},e),{},{index:t})})),this.pickerTarget=e,this.pickerShow=!0},pickerConfirm:function(e){var t=e.selectedOptions[0];this.pickerTarget.count=t.value,this.pickerTarget.curLevel=t.index,this.pickerShow=!1},showCalendar:function(e){this.currentCalendar=e,this.calendarShow=!0},calendarFormatter:function(e){return"selected"==e.type&&(e.bottomInfo=this.$t("hoard.remain",[this.getDiff(e.date)])),e},calendarConfirm:function(e){var t=this.currentCalendar;this.calendarShow=!1;var n=this.getDiff(e),a=p(e).format(this.$t("hoard.dateFormat",[this.$t("hoard.remain",[n])]));-1==t?(this.targetDate=e,this.targetDateString=a):(this.card[t].dec=e,this.card[t].decString=a)}}},g=n(83744);const w=(0,g.Z)(v,[["render",h]]);var k=w},40490:function(e,t,n){var a={"./CN/hoard.json":27476};function r(e){var t=o(e);return n(t)}function o(e){if(!n.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}r.keys=function(){return Object.keys(a)},r.resolve=o,e.exports=r,r.id=40490},36130:function(e,t,n){"use strict";e.exports=n.p+"img/100003.f3678a08.png"},73895:function(e,t,n){"use strict";e.exports=n.p+"img/100011.4d11842a.png"},49784:function(e,t,n){"use strict";e.exports=n.p+"img/100012.ef7d22c4.png"},87515:function(e,t,n){"use strict";n(31958),n(20368),n(56742),n(62939),n(71744),n(61452),n(76196),n(22666),n(70770)},27476:function(e){"use strict";e.exports=JSON.parse('{"data":{"daily":{"name":"日","unit":"day","value":[{"name":"日常全勤","desc":"今日计划、星光展馆、商店 5 区","count":120,"on":true},{"name":"QQ 游戏中心","desc":"每日登录礼包、启动特权礼包","count":6,"on":false}]},"weekly":{"name":"周","unit":"week","value":[{"name":"星座研究","desc":"按第 6 章通关计","count":800,"on":true},{"name":"QQ 游戏中心","desc":"每周登陆礼包","count":10,"on":false},{"name":"心悦俱乐部","desc":"每周签到第一天","count":30,"on":false},{"name":"掌上道聚城","desc":"道具兑换、周五六签到、互助","count":215,"on":false}]},"monthly":{"name":"月","unit":"month","value":[{"name":"本月签到","desc":"x6 日羽毛笔折合","count":900,"on":true},{"name":"签到链接","desc":"第六、七天折合，按每月两次计","count":1200,"on":false},{"name":"QQ 游戏中心","desc":"道具兑换、每月登录礼包","count":40,"on":false}]}},"card":[{"name":"超值月卡","aka":"小月卡","desc":"游戏内 30 元开通","count":150,"on":false,"decString":"不过期","unit":"d"},{"name":"悦享卡","aka":"大月卡","desc":"心悦俱乐部 98 元开通","count":300,"on":false,"decString":"不过期","unit":"d"},{"name":"限定巡礼","aka":"季卡/年卡","desc":"活动 60 元开通","count":100,"on":false,"decString":"不过期","unit":"d"},{"name":"祈愿勾勾","aka":"年卡","desc":"活动 68 元开通，按保底计","level":[{"text":"日影契约 (200/w)","value":200},{"text":"仲元契约 (400/w)","value":400},{"text":"永兆契约 (700/w)","value":700}],"count":200,"on":false,"curLevel":0,"decString":"不过期","unit":"w"}]}')}}]);
//# sourceMappingURL=680-legacy.bf82b34d.js.map